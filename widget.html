<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://use.fontawesome.com/4a9d378281.js"></script>
  <link rel="stylesheet" href="widget.css">
  <!-- bootstrap css  -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <!-- bootstrap icon  -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
  <title>Chat Widget</title>
</head>
<body>
  
  <div class="widget-container">

    <!-- Trigger button  -->
    <a href="#" onclick="closeButton();return false;" id="whatsappBtn" style="text-decoration: none;">
      <div class="widget-icon-holder bg-success">
        <i class="fa fa-whatsapp" aria-hidden="true"></i>
      </div>
    </a>
    

    <div class="form-holder" id="widgetId">
      <!-- Heading/Nav bar -->
      <div class="myrow">
        <div class="bg-success mycol1">
          <h4 class="text-light">WhatsApp Chat</h4>
        </div>
        <a href="#" style="text-decoration: none; display: block;" onclick="closeButton();return false;" class="bg-success mycol2">
          <i class="bi bi-x-lg"></i>
        </a>
      </div>

      <div class="p-3">
        <!-- Predefined Message  -->
        <div class="bg-light p-2 rounded-end rounded-bottom headingstyle2">
          Hello, how can I help you?
        </div>

        <!-- A form  -->
        <form action="#" onsubmit="return send_chat()" method="post">
          <div class="form row gx-0">

            <!-- Textarea  -->
            <div class="col-9">
              <div class="form-group">
                <textarea style="resize: none;" class="form-control headingstyle2" id="message" rows="3" placeholder="Enter your query..." required></textarea>
              </div>
            </div>

            <!-- Query  -->
            <div class="col-3 pt-5 text-end">
              <button class="btn btn-success rounded">
                <i class="fa fa-paper-plane"></i>
              </button>
            </div>
          </div>
        </form>

      </div>
    </div>
  </div>




  <!-- Javascript -->
  <script>
    var chatWidget = document.getElementById("widgetId");
    var whatsappBtn = document.getElementById("whatsappBtn");

    function closeButton () {
      if (!chatWidget.classList.contains('show')) {
      chatWidget.classList.add('show');
      setTimeout(function () {
        chatWidget.classList.add('visuallyshow');
      }, 10);}
      else {
        chatWidget.classList.remove('visuallyshow')
        chatWidget.classList.remove('show')
      }
    }

    function send_chat(){
      let num = "+2348111770269";
      var msg = document.getElementById("message").value;
      var url = window.open('https://api.whatsapp.com/send?phone=' + num + '&text=' + encodeURIComponent(msg));
    }
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>